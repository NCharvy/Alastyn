{% extends "AlastynAdminBundle::layout.html.twig" %}

{% block content %}
	<div class="row">
        <div class="col-xs-12 col-sm-8 col-xs-offset-0 col-sm-offset-2">
            <h2 style="text-align : center;">{{ 'list.flow'|trans }}</h2>
            <table class="table table-hover table-bordered table-stripped">
                <tr>
					<th>{{ 'url'|trans }}</th>
					<th><a href="{{ path('_list_flow', {'page': 1, 'sort': 'statut'}) }}">{{ 'status'|trans }}</a></th>
					<th><a href="{{ path('_list_flow', {'page': 1, 'sort': 'publication'}) }}">{{ 'publication'|trans }}</a></th>
					<th><a href="{{ path('_list_flow', {'page': 1, 'sort': 'domaine'}) }}">{{ 'domain'|trans }}</a></th>
					<th>{{ 'operations'|trans }}</th>
				</tr>
				{% for flow in flows %}
	                {% if flow.domaine is null %}<tr class="danger">{% elseif flow.statut != 'Valide' %}<tr class="warning">{% else %}<tr>{% endif %}
	                    <td>{{ flow.url }}</td>
	                    <td>{{ flow.statut }}</td>
	                    <td>
	                    	{% if flow.publication == 1 %}
                                {{ 'yes'|trans }}
                            {% else %}
                                {{ 'no'|trans }}
                            {% endif %}
	                    </td>
	                    <td>{% if flow.domaine is null %}
	                    	 	<i>null</i>
	                    	 {% else %}
	                    		{{ flow.domaine.nom }}
	                    	 {% endif %}
	                    </td>
	                    <td>
	                        <a href="{{ path('_update_flow', {'id': flow.id}) }}"><i class="fa fa-pencil"></i></a>
	                        <a href="{{ path('_delete_flow', {'id': flow.id}) }}"><i class="fa fa-trash"></i></a>
	                    </td>
	                </tr>
	            {% endfor %}
            </table>
			{% include 'AlastynAdminBundle:Admin:paging.html.twig' %}
        </div>
    </div>
{% endblock %}